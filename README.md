# addfriend
PC微信机器人之实战分析微信加人call,PC微信机器人之实战分析微信加好友call
QQ：2645542961
今天我们分析微信加入call的功能，加入的函数最少是需要两个参数，1个是wxid，1个是打招呼的内容，思路是先删除一个好友，然后给他发一条信息，这个时候消息里面有个添加的按钮，此时，我们把微信加入CE，搜索这个wxid，多搜几次，之后把这个结果移到下面去，然后在PC微信点击下添加这个按钮，然后发现CE里左边的wxid变少了，然后没有点击加人按钮前的wxid复制到文本对比工具左边，把点击后加入按钮的wxid复制到文本对比工具右边，进行对比，
![image](https://user-images.githubusercontent.com/73727649/120884556-66ba5600-c616-11eb-88c1-864cedcfd8ba.png)
看下文本对比右边新增的有哪些值，把新增的地址，复制出来，打开OD工具，附加微信，添加断点，再次点击微信，发现断点。
![image](https://user-images.githubusercontent.com/73727649/120884559-6cb03700-c616-11eb-9f79-73685bd53747.png)
断点下来之后，看到左下角要加好友的wxid，然后此时在CE中把这个wxid改成别的，此时PC上面加好友的提示变成发送成功了，正常不改的话，提示别人设置了隐私，不能添加。这就说明这个断点是我们要找加好友的call，然后我们分析下他们的参数，ebx地方是wxid，上面一下参数nop掉，然后调试一下，如果没有崩溃，就不需要填写，把发送消息内容的结构体也找到。然后找到这些call的相对地址，就可以了。
![image](https://user-images.githubusercontent.com/73727649/120884564-72a61800-c616-11eb-8163-3219916a6e3f.png)
目前已经实现了大部分功能，运行稳定，比如：发各种消息，接收各种消息，群管，下载文件，加好友，检测僵尸粉等等功能，可提供接口，方便二次开发，欢迎技术交流。
QQ：2645542961
![image](https://user-images.githubusercontent.com/73727649/120884580-7b96e980-c616-11eb-8a2b-7c36e39d1f24.png)

